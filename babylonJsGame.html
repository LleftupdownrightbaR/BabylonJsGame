<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>BabylonJsGame</title>
  <style>
    * {
      font-family: 'Noto Sans', sans-serif;
      margin: 0;
      padding: 0;
    }
    body {
      overflow: hidden;
      width: auto;
      height: auto;
      display: grid;
      grid-template-columns: auto;
      grid-template-rows: auto;
      white-space: nowrap;
      position: relative;
      width: 100%;  height: 100%;
    }
    #renderCanvas {
      width: auto;
      height: auto;
      white-space: nowrap;
      position: fixed;
      touch-action: none;
    }
  </style>
  <script src="https://cdn.babylonjs.com/babylon.js"></script>
  <script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
  <link rel="stylesheet" type="text/css" href="gui.css"/>
</head>

<body>
  <div id="guiLayer" style="-moz-user-select: none;-webkit-user-select: none;-o-user-select: none;user-select: none;-ms-user-select: none;" unselectable="on" onselectstart="return false;" onmousedown="return false;">
    <div id="guiGrid0">
      <canvas id="renderCanvas"></canvas>
    </div>
    <div id="guiGrid1">
      <div id="buttonGrid0" class="buttonGrid">
        <div id="buttonGrid0In">
          <label id="btnG00" class="btnG" for="btn⌜">
          ⌜<input type="button" name="btn⌜" id="btn⌜" class="btnInput">
          </label>
          <label id="btnG01" class="btnG" for="btn∧">
          ∧<input type="button" name="btn∧" id="btn∧" class="btnInput" onclick="fireKeyEvent('btn∧', 'keydown', 38)">
          </label>
          <label id="btnG02" class="btnG" for="btn⌝">
          ⌝<input type="button" name="btn⌝" id="btn⌝" class="btnInput">
          </label>
          <label id="btnG03" class="btnG" for="btn﹤">
          ﹤<input type="button" name="btn﹤" id="btn﹤" class="btnInput" onclick="fireKeyEvent('btn∧', 'keydown', 37)">
          </label>
          <label id="btnG04" class="btnG" for="btn○">
          ○<input type="button" name="btn○" id="btn○" class="btnInput">
          </label>
          <label id="btnG05" class="btnG" for="btn﹥">
          ﹥<input type="button" name="btn﹥" id="btn﹥" class="btnInput" onclick="fireKeyEvent('btn∧', 'keydown', 39)">
          </label>
          <label id="btnG06" class="btnG" for="btn⌞">
          ⌞<input type="button" name="btn⌞" id="btn⌞" class="btnInput">
          </label>
          <label id="btnG07" class="btnG" for="btn∨">
          ∨<input type="button" name="btn∨" id="btn∨" class="btnInput" onclick="fireKeyEvent('btn∧', 'keydown', 40)">
          </label>
          <label id="btnG08" class="btnG" for="btn⌟">
          ⌟<input type="button" name="btn⌟" id="btn⌟" class="btnInput">
          </label>
        </div>
      </div>
      <div id="btnGGap0">0</div>
      <div id="buttonGrid1" class="buttonGrid">
        <label id="btnG10" class="btnG" for="btn+">
        +<input type="button" name="btn+" id="btn+" class="btnInput" onclick="fireKeyEvent('btn∧', 'keydown', 13)">
        </label>
        <label id="btnG11" class="btnG" for="btn-">
        -<input type="button" name="btn-" id="btn-" class="btnInput">
        </label>
      </div>
      <div id="btnGGap1">0</div>
      <div id="buttonGrid2" class="buttonGrid">
        <label id="btnG20" class="btnG" for="btnA">
          A<input type="button" name="btnA" id="btnA" class="btnInput">
        </label>
      </div>
    </div>
  </div>
  <script>
    const canvas = document.getElementById("renderCanvas")
    const engine = new BABYLON.Engine(canvas, true)
    canvas.style.width = "100%";
    canvas.style.height = "100%"; 
    engine.enableOfflineSupport = true
    /******* 創建場景 ******/
    const createScene = function () {
      // 實例化場景
      const scene = new BABYLON.Scene(engine)
      scene.createDefaultEnvironment();
      // 創建相機並添加到canvas
      const camera = new BABYLON.ArcRotateCamera("Camera", Math.PI / 2, Math.PI / 2, 2, new BABYLON.Vector3(0, 0, 5), scene)
      camera.attachControl(canvas, true)
      // 添加光
      const light1 = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(1, 1, 0), scene)
      const light2 = new BABYLON.PointLight("light2", new BABYLON.Vector3(0, 1, -1), scene)
      // 創建內容，一個球
      /*const sphere = BABYLON.MeshBuilder.CreateSphere("sphere", { diameter: 2 }, scene)*/
      const box = BABYLON.MeshBuilder.CreateBox("box", {}, scene)
      return scene
    }
    /******* 結束創建場景 ******/
    const scene = createScene()
    // loop
    engine.runRenderLoop(function () {
      scene.render()
    })
    // resize
    window.addEventListener("resize", function () {
      engine.resize()
    })
  </script>
  <script src="fireKeyEvent.js"></script>
  <script>    alert( 'Hello, world!' );</script>
</body>

</html>
<!--基礎Babylonjs包-->
<script src="https://cdn.babylonjs.com/babylon.js"></script>
<!--loader, 用於加載素材-->
<script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>